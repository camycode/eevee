UE.plugins.autofloat=function(){function e(){return UE.ui?1:(alert(r.autofloatMsg),0)}function t(){var e=document.body.style;e.backgroundImage='url("about:blank")',e.backgroundAttachment="fixed"}function o(){var e=domUtils.getXY(a),t=domUtils.getComputedStyle(a,"position"),o=domUtils.getComputedStyle(a,"left");a.style.width=a.offsetWidth+"px",a.style.zIndex=1*s.options.zIndex+1,a.parentNode.insertBefore(b,a),m||y&&browser.ie?("absolute"!=a.style.position&&(a.style.position="absolute"),a.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-f+d+"px"):(browser.ie7Compat&&g&&(g=!1,a.style.left=domUtils.getXY(a).x-document.documentElement.getBoundingClientRect().left+2+"px"),"fixed"!=a.style.position&&(a.style.position="fixed",a.style.top=d+"px",("absolute"==t||"relative"==t)&&parseFloat(o)&&(a.style.left=e.x+"px")))}function n(){g=!0,b.parentNode&&b.parentNode.removeChild(b),a.style.cssText=u}function i(){var e=c(s.container),t=s.options.toolbarTopOffset||0;e.top<0&&e.bottom-a.offsetHeight>t?o():n()}var s=this,r=s.getLang();s.setOpt({topOffset:0});var l=s.options.autoFloatEnabled!==!1,d=s.options.topOffset;if(l){var u,a,f,c,p=UE.ui.uiUtils,m=browser.ie&&browser.version<=6,y=browser.quirks,b=document.createElement("div"),g=!0,x=utils.defer(function(){i()},browser.ie?200:100,!0);s.addListener("destroy",function(){domUtils.un(window,["scroll","resize"],i),s.removeListener("keydown",x)}),s.addListener("ready",function(){if(e(s)){if(!s.ui)return;c=p.getClientRect,a=s.ui.getDom("toolbarbox"),f=c(a).top,u=a.style.cssText,b.style.height=a.offsetHeight+"px",m&&t(),domUtils.on(window,["scroll","resize"],i),s.addListener("keydown",x),s.addListener("beforefullscreenchange",function(e,t){t&&n()}),s.addListener("fullscreenchanged",function(e,t){t||i()}),s.addListener("sourcemodechanged",function(e,t){setTimeout(function(){i()},0)}),s.addListener("clearDoc",function(){setTimeout(function(){i()},0)})}})}};