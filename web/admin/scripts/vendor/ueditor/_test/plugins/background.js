module("plugins.background"),test("getAllHtml能取到背景",function(){var e=document.createElement("script"),o=te.obj[2];e.id="sc",e.type="text/plain",document.body.appendChild(e),o.render("sc"),o.ready(function(){equal(o.queryCommandState("background"),0,"check background state"),this.body.style.backgroundColor="#d7e3bc",setTimeout(function(){var e=[];o.fireEvent("getAllHtml",e),equal(ua.formatColor(o.body.style.backgroundColor),"#d7e3bc","检查body背景色"),document.getElementById("sc").parentNode.removeChild(document.getElementById("sc")),start()},50)}),stop()}),test(" trace 3744 setContent 背景色",function(){var e=te.obj[0];e.setContent('<p> <br/></p><p style="display:none;" data-background="background-repeat:no-repeat; background-position:center center; background-color:#8064A2; ">    <br/></p>'),stop(),setTimeout(function(){equal(ua.formatColor($(e.body).css("background-color")),"#8064a2","setContent 背景色"),start()},50)}),test(" trace 3751 3748 设置 背景色",function(){var e=te.obj[0],o={"background-repeat":"no-repeat","background-position":"center center","background-color":"#4F81BD"};e.setContent("<p><br/></p>"),e.execCommand("background",o),stop(),setTimeout(function(){equal(e.queryCommandValue("background")["background-repeat"],"no-repeat"),equal(ua.formatColor(e.queryCommandValue("background")["background-color"].toLowerCase()),"#4f81bd"),ok(/center/.test(e.queryCommandValue("background")["background-position"])),e.execCommand("source"),setTimeout(function(){ua.checkSameHtml(e.body.lastChild.outerHTML,'<p style="display:none;" data-background="background-repeat:no-repeat; background-position:center center; background-color:#4F81BD; "><br/></p>',"source查看 背景色"),start()},50)},50)});