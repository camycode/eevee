!function(o){function e(){var e=[];return n.find("ul").filter(":visible").each(function(){e.push(o(this).attr("data-index"))}),e}var n,t,a,c=arrayToUl(links);module("#navgoco",{setup:function(){n=o("<ul>"+c+"</ul>"),n.appendTo(o("#qunit-fixture")),t=n.find("li:has(ul) > a").first(),a=t.parent(),o.fn.navgoco.defaults.save=!1,o.fn.navgoco.defaults.slide.duration=1}}),test("chainability",function(){strictEqual(n.navgoco(),n,"should be chainable")}),test("caret",function(){expect(1),n.navgoco();var o=n.find("li:has(ul) > a").last();strictEqual(o.html(),"<span></span>Where to Buy","caret should be present")}),test("mouse click",function(){expect(2),n.navgoco(),t.click(),ok(a.hasClass("open"),"should have class open"),t.click(),ok(!a.hasClass("open"),"should not have class open")}),test("manual toggle",function(){expect(2),n.navgoco(),n.navgoco("toggle",!0,0),ok(a.hasClass("open"),"should have class open"),n.navgoco("toggle",!1,0),ok(!a.hasClass("open"),"should not have class open")}),test("manual toggle also opens parents",function(){expect(1),n.navgoco(),n.navgoco("toggle",!0,3),deepEqual(e(),["1","3"],"Both sub-menus 1 and 3 should be visible")}),test("manual toggle all",function(){expect(1),n.navgoco(),n.navgoco("toggle",!0),deepEqual(e(),["0","1","2","3","4"],"All sub-menus should be visible")}),test("accordion #1",function(){expect(1),n.navgoco({accordion:!0}),n.navgoco("toggle",!0,0),n.navgoco("toggle",!0,1),n.navgoco("toggle",!0,0),stop(),setTimeout(function(){deepEqual(e(),["0"],"Only submenus 0 should be visible"),start()},1e3)}),test("accordion #2",function(){expect(1),n.navgoco({accordion:!0}),n.navgoco("toggle",!0,0);var o=n.find("li:has(ul) > a").first();o.click(),stop(),setTimeout(function(){deepEqual(e(),[],"No submenus should be visible"),start()},1e3)}),test("accordion #3",function(){expect(1),n.navgoco({accordion:!0}),o("a:contains('About')").click(),o("a:contains('Contact Us')").click(),o("a:contains('Support and Service')").click(),stop(),setTimeout(function(){deepEqual(e(),["1","2"],"Submenus 1 & 2 should be visible"),start()},1e3)}),test("accordion #4",function(){expect(1),n.navgoco({accordion:!0}),n.navgoco("toggle",!0,2),o("a:contains('Environment')").click(),stop(),setTimeout(function(){deepEqual(e(),["1"],"Only Submenu 1 should be visible"),start()},1e3)})}(jQuery);