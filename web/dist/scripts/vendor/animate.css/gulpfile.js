function activateAnimations(){var e,a,n=JSON.parse(fs.readFileSync("animate-config.json")),t=["source/_base.css"],r=0;for(e in n)if(n.hasOwnProperty(e)){a=n[e];for(var i=0;i<a.length;++i)t.push("source/"+e+"/"+a[i]+".css"),r+=1}return r?gutil.log(r+(r>1?" animations":" animation")+" activated."):gutil.log("No animations activated."),t}var fs=require("fs"),gulp=require("gulp"),gutil=require("gulp-util"),concat=require("gulp-concat"),header=require("gulp-header"),autoprefixer=require("gulp-autoprefixer"),runSequence=require("run-sequence"),minify=require("gulp-cssnano"),rename=require("gulp-rename"),pkg=JSON.parse(fs.readFileSync("package.json")),activatedAnimations=activateAnimations(),opts={destPath:"./",concatName:"animate.css",autoprefixer:{browsers:["last 2 versions"],cascade:!1},minRename:{suffix:".min"},banner:['@charset "UTF-8";\n',"/*!"," * <%= name %> -<%= homepage %>"," * Version - <%= version %>"," * Licensed under the MIT license - http://opensource.org/licenses/MIT"," *"," * Copyright (c) <%= new Date().getFullYear() %> <%= author.name %>"," */\n\n"].join("\n")};gulp.task("default",function(){runSequence("createCSS","addHeader")}),gulp.task("createCSS",function(){return gulp.src(activatedAnimations).pipe(concat(opts.concatName)).pipe(autoprefixer(opts.autoprefixer)).pipe(gulp.dest(opts.destPath)).pipe(rename(opts.minRename)).pipe(minify({reduceIdents:{keyframes:!1}})).pipe(gulp.dest(opts.destPath))}),gulp.task("addHeader",function(){return gulp.src("*.css").pipe(header(opts.banner,pkg)).pipe(gulp.dest(opts.destPath))});