module("ui.colorbutton"),test("colorpicker的功能",function(){var e=document.body.appendChild(document.createElement("div")),o=new te.obj[0].Editor;o.render("editor"),o.ready(function(){var t=new te.obj[0].ColorButton({editor:o});e.innerHTML=t.renderHtml(),t.postRender(),t.showPopup();var r=document.getElementById(t.popup.content.id).getElementsByTagName("table")[0].firstChild.childNodes[2].childNodes[1].firstChild;equal(document.getElementById(t.id+"_colorlump").style.backgroundColor,"","edui-colorlump 默认颜色"),ua.click(r);var l=$("#"+t.id+"_colorlump").css("backgroundColor");ok("rgb(127,127,127)"==l||"#7f7f7f"==l||"rgb(127, 127, 127)"==l,"检查_onTableClick选择的颜色edui-colorlump"),equal($("#"+t.id+"_colorlump").length,1,"检查edui-colorlump个数"),equal(t.popup._hidden,!0,"点击按钮后，关闭窗口"),r=document.getElementById(t.popup.content.id).getElementsByTagName("table")[0].firstChild.childNodes[2].childNodes[2].firstChild,equal(document.getElementById(t.popup.content.id+"_preview").style.backgroundColor,"","edui-colorpicker-preview 默认颜色"),ua.mouseover(r),l=$("#"+t.popup.content.id+"_preview").css("backgroundColor"),ok("rgb(221, 217, 195)"==l||"#ddd9c3"==l||"rgb(221,217,195)"==l,"检查_onTableClick选择的颜色edui-colorlump"),equal($("#"+t.popup.content.id+"_preview").length,1,"检查edui-colorlump个数"),equal(t.popup._hidden,!0,"点击按钮后，关闭窗口"),ua.click(r),l=$("#"+t.id+"_colorlump").css("backgroundColor"),ok("rgb(221, 217, 195)"==l||"#ddd9c3"==l||"rgb(221,217,195)"==l,"再次选择颜色"),ua.mouseout(r),equal(document.getElementById(t.popup.content.id+"_preview").style.backgroundColor,"","鼠标移开，edui-colorpicker-preview 恢复默认颜色"),t.showPopup(),r=document.getElementsByClassName("edui-colorpicker-nocolor")[0],ua.click(r),equal(t.popup._hidden,!0,"点击PickNoColor按钮后，关闭窗口");var d=document.getElementById("editor");d.parentNode.removeChild(d),start()}),stop()}),test("colorbutton",function(){var e=new baidu.editor.ui.Editor;stop(),setTimeout(function(){var o=new te.obj[0].ColorButton({editor:e});equal(o.popup.content.noColorText,e.getLang("clearColor"),"检查colorButton的文本 "),start()},50)}),test("colorpicker",function(){var e=new baidu.editor.ui.Editor;stop(),setTimeout(function(){var o=new te.obj[0].ColorPicker({editor:e});equal(o.noColorText,e.getLang("clearColor")),o.render(te.dom[0]);var t=te.dom[0];equal(t.getElementsByTagName("table")[0].className,"edui-box edui-"+e.options.theme,""),start()},50)});