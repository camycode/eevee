module("ui.splitbutton"),test("splitbutton",function(){function e(e,t,o){o&&(e=e.toLowerCase(),t=t.toLowerCase());for(var u=t.substring(0,1),a=t.length,n=0;n<e.length-a+1;n++)if(e.charAt(n)==u&&e.substring(n,n+a)==t)return!0;return!1}var t=new baidu.editor.ui.Editor;t.render("editor"),t.ready(function(){var o=new te.obj[0].SplitButton({popup:new baidu.editor.ui.Popup({content:new te.obj[0].SplitButton({editor:t}),editor:t}),editor:t});te.dom[0].innerHTML=o.renderHtml(),o.postRender(),o.showPopup(),equal(o.popup.getDom("body").lastChild,o.popup.getDom("bordereraser"),"检查：addListener：postrender"),ok(e(o.getStateDom().className,"edui-state-opened"),"_onPopupShow"),o.popup.hide(),equal(o.getStateDom().className,"","_onPopupHide"),o.popup.show(),ok(e(o.getStateDom().className,"edui-state-opened"),"_onPopupShow");var u=0;o.addListener("buttonclick",function(){u=1}),ua.click(document.getElementsByClassName("edui-box edui-button-body")[0]),equal(u,1,"_onButtonClick"),ua.click(document.getElementsByClassName("edui-box edui-arrow")[0]),ok(e(o.getStateDom().className,"edui-state-opened"),"_onArrowClick"),o.popup.hide(),equal(o.getStateDom().className,"","_onArrowClick"),ua.click(document.getElementsByClassName("edui-box edui-arrow")[0]),ok(e(o.getStateDom().className,"edui-state-opened"),"_onArrowClick"),o.popup.hide(),start()}),stop()});