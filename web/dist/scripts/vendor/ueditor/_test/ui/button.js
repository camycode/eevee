module("ui.button"),test("Button",function(){var e=document.body.appendChild(document.createElement("div")),t=new te.obj[0].Button({title:"testButton",label:"test",editor:te.obj[0].Editor()});e.innerHTML=t.renderHtml();var a=e.getElementsByTagName("div")[3];equal(a.attributes.title.nodeValue,"testButton","检查Button的title ")}),test("工具栏国际化",function(){var e=document.createElement("div");e.id="editor1",e.style.cssText="width:1px;height:1px;",document.body.appendChild(e);var t=top.ueditor=new baidu.editor.ui.Editor({lang:"en"});t.render("editor1"),stop(),t.ready(function(){for(var a,n,o,i=t.ui.toolbars[0].items,l=0;o=i[l++];){if(n=o.className.split("-")[2],"paragraph"==n){for(var r,d,u=o.items,s=0;d=u[s++];)if(d.label!=t.getLang("paragraph."+d.value)){r=!0;break}ok(!r,"段落下拉列表是否符合预期")}if(o.title!==t.getLang("labelMap."+n)){a=!0;break}}ok(!a,"工具按钮Tip是否符合预期"),setTimeout(function(){e.parentNode.removeChild(e),start()},100)})}),test("Dialog国际化",function(){var e=te.obj[0].Editor();e.render("editor"),stop(),e.ready(function(){e.setContent("<span>xx</span><p>xxx</p>");var t=e.document,a=new baidu.editor.dom.Range(t),n=t.getElementsByTagName("p")[1];a.setStart(n,0).setEnd(n,1).select();var o=e.selection.getRange(),i=$("#"+document.getElementsByClassName("edui-for-insertimage")[0].id+"_body")[0];ua.click(i),setTimeout(function(){var t=e.ui._dialogs.insertimageDialog;ok(t.title===e.getLang("labelMap.insertimage"),"dialog的标题是否一致"),ok(t.closeDialog===e.getLang("closeDialog"),"关闭dialog的title是否一致"),ok(t.buttons[0].label===e.getLang("ok")&&t.buttons[1].label===e.getLang("cancel"),"确认取消按钮是否一致"),setTimeout(function(){var a=document.getElementById(t.id+"_iframe").contentWindow.document,n=e.getLang("insertimage.static");for(var i in n)"imgSearchTxt"===i&&equal(a.getElementById(i).value,n[i].value,"图片搜索文字是否一致"),"imgSearchBtn"===i&&equal(a.getElementById(i).value,n[i].value,"图片搜索按钮文字是否一致");ua.click(document.getElementById(t.closeButton.id+"_body"));var l=e.selection.getRange();ok(o.startContainer===l.startContainer,"dialog开闭前后选区是否一致"),start()},1500)},100)})});