module("plugins.indent"),test("同时加缩进和段前距",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<p>hello1</p><p>hello2</p>"),setTimeout(function(){e.setStart(t.body.firstChild,0).setEnd(t.body.lastChild,1).select(),t.execCommand("rowspacing",15,"top"),t.execCommand("indent"),equal(t.body.firstChild.style.textIndent,"2em","查看缩进量"),equal(t.queryCommandValue("rowspacing","top"),15,"查询段前距"),start()},50),stop()}),test("trace1241--首行缩进的状态反射",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<h1>hello1</h1>"),setTimeout(function(){e.setStart(t.body.firstChild,1).collapse(1).select(),equal(t.queryCommandState("indent"),0,"开始没有缩进"),t.execCommand("indent"),equal(t.queryCommandState("indent"),1,"有缩进"),t.execCommand("indent"),equal(t.queryCommandState("indent"),0,"没有缩进"),start()},50),stop()}),test("缩进后再h1",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<p>hello1</p><p>hello2</p>"),setTimeout(function(){e.setStart(t.body.firstChild,0).setEnd(t.body.lastChild,1).select(),t.execCommand("indent"),t.execCommand("paragraph","h1"),equal(t.queryCommandValue("paragraph"),"h1","段落格式为h1"),equal(t.body.firstChild.style.textIndent,"2em","查看缩进量"),start()},50),stop()}),test("先设h1再缩进",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<p>hello1</p><p>hello2</p>"),setTimeout(function(){e.setStart(t.body.firstChild,0).setEnd(t.body.lastChild,1).select(),t.execCommand("paragraph","h1"),t.execCommand("indent"),equal(t.queryCommandValue("paragraph"),"h1","段落格式为h1"),equal(t.body.firstChild.style.textIndent,"2em","查看缩进量"),start()},50),stop()}),test("trace 1479 首行缩进按钮功能有效",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<p>hello</p>"),setTimeout(function(){e.setStart(t.body.firstChild,0).collapse(!0).select(),t.execCommand("indent"),equal(t.body.firstChild.style.textIndent,"2em","选择文字，首行缩进"),equal(t.queryCommandState("indent"),1,"缩进按钮高亮"),start()},50),stop()}),test("trace 1516 选Heading格式的文字首行缩进按钮高亮",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<h1>hello</h1>"),setTimeout(function(){e.setStart(t.body.firstChild,0).collapse(!0).select(),t.execCommand("indent"),equal(t.body.firstChild.style.textIndent,"2em","选Heading格式的文字首行缩进"),equal(t.queryCommandState("indent"),1,"缩进按钮高亮"),start()},50),stop()}),test("先对齐方式再缩进",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<p>hello1</p><p>hello2</p>"),setTimeout(function(){e.setStart(t.body.firstChild,0).setEnd(t.body.lastChild,1).select(),t.execCommand("justify","right"),t.execCommand("indent"),equal(t.queryCommandValue("justify"),"right","段落格式为h1"),equal(t.body.firstChild.style.textIndent,"2em","查看缩进量"),start()},50),stop()}),test("先缩进再对齐方式",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<p>hello1</p><p>hello2</p>"),setTimeout(function(){e.setStart(t.body.firstChild,0).setEnd(t.body.lastChild,1).select(),t.execCommand("indent"),t.execCommand("justify","right"),equal(t.queryCommandValue("justify"),"right","段落格式为h1"),equal(t.body.firstChild.style.textIndent,"2em","查看缩进量"),start()},50),stop()}),test("非闭合取消缩进",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<p>hello1</p><p>hello2</p>"),setTimeout(function(){e.setStart(t.body.firstChild,0).setEnd(t.body.lastChild,1).select(),t.execCommand("indent"),equal(t.body.firstChild.style.textIndent,"2em","查看缩进量"),t.execCommand("indent"),equal(t.body.firstChild.style.textIndent,"0em","查看缩进量"),start()},50),stop()}),test("闭合取消缩进",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<p>hello1</p><p>hello2</p>"),setTimeout(function(){e.setStart(t.body.firstChild,0).setEnd(t.body.lastChild,1).select(),t.execCommand("indent"),equal(t.body.firstChild.style.textIndent,"2em","查看缩进量"),e.setStart(t.body.firstChild,0).collapse(!0).select(),ua.manualDeleteFillData(t.body),t.execCommand("indent"),equal(t.body.firstChild.style.textIndent,"0em","查看缩进量"),start()},50),stop()}),test("多个单元格缩进和取消缩进",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<table><tbody><tr><td>hello1</td><td>hello2<img /></td></tr><tr><td><div>hello3</div></td><td><p>hello4</p></td></tr></tbody></table>"),setTimeout(function(){var o=t.body.firstChild.getElementsByTagName("td");e.selectNode(t.body.firstChild).select(),t.execCommand("indent"),ua.manualDeleteFillData(t.body),equal(o[0].firstChild.tagName.toLowerCase(),"p","插入一个p标签");for(var n=0;n<o.length;n++)equal(o[n].firstChild.style.textIndent,"2em","查看第"+(n+1)+"个单元格的缩进量");for(e.selectNode(t.body.firstChild).select(),t.execCommand("indent"),n=0;n<o.length;n++)equal(o[n].firstChild.style.textIndent,"0em","查看第"+(n+1)+"个单元格的缩进是否被取消");start()},50),stop()}),test("列表中缩进",function(){var t=te.obj[0],e=te.obj[1];t.setContent("<ul><li>nihao</li><li>hello</li></ul>"),setTimeout(function(){e.setStart(t.body.firstChild.firstChild,0).collapse(!0).select(),t.execCommand("indent");var o=t.body.firstChild.firstChild.firstChild;equal(o.tagName.toLowerCase(),"p","自动创建一个p"),equal(o.style.textIndent,"2em","设置缩进为2em"),e.setStart(t.body.firstChild.lastChild.firstChild,1).collapse(!0).select(),t.execCommand("indent"),o=t.body.firstChild.lastChild.firstChild,equal(o.tagName.toLowerCase(),"p","自动创建一个p"),equal(o.style.textIndent,"2em","设置缩进为2em"),start()},50),stop()});