module("plugins.autofloat"),test("检查toolbar是否浮动在页面顶端",function(){te.dom[0].parentNode.removeChild(te.dom[0]);var e=document.createElement("script");e.id="sc",e.type="text/plain",e.style.height="100px",document.body.appendChild(e);var o=UE.getEditor("sc",{autoFloatEnabled:!0,topOffset:60,autoHeightEnabled:!0,scaleEnabled:!1});stop(),o.ready(function(){setTimeout(function(){o.setContent("<p><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>sdf</p>");var e=window.screenX?window.screenX:window.screenLeft,t=window.screenY?window.screenY:window.screenTop;setTimeout(function(){var r=new baidu.editor.dom.Range(o.document);r.setStart(o.body.firstChild,1).collapse(1).select(),o.focus(),setTimeout(function(){window.scrollBy(e,t+$(document.body).height()),setTimeout(function(){var r=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;6==ua.browser.ie||ua.browser.gecko||equal(r,$(o.ui.getDom("toolbarbox")).offset().top-60,"检查toolbar是否在页面顶端"),window.scrollTo(e,t-$(document.body).height()),setTimeout(function(){equal(o.ui.getDom().childNodes[0].id,o.ui.getDom("toolbarbox").id,"toolbar是第一个元素"),document.getElementById("sc").parentNode.removeChild(document.getElementById("sc")),start()},500)},500)},1e3)},200)},800)})});