module("plugins.selectall"),test("normal",function(){var e=te.obj[0],t=e.body;e.setContent("<p><em>xxxx</em></p>ssss"),e.focus(),e.execCommand("selectAll"),e.execCommand("bold"),equal(ua.getChildHTML(t),"<p><strong><em>xxxx</em></strong></p><p><strong>ssss</strong></p>","after calling selectAll command")}),test("a part of the content is selected",function(){var e=te.obj[0],t=(e.document,te.obj[1]),l=e.body;e.setContent("<p><em>xxxx</em></p>ssss"),t.selectNode(l.lastChild.firstChild).select(),e.execCommand("bold"),equal(ua.getChildHTML(l),"<p><em>xxxx</em></p><p><strong>ssss</strong></p>","before calling selectAll command"),e.execCommand("selectAll"),e.execCommand("bold"),equal(ua.getChildHTML(l),"<p><strong><em>xxxx</em></strong></p><p><strong>ssss</strong></p>","after calling selectAll command")}),test("trace1743 :content is null",function(){var e=te.obj[0],t=te.obj[1];e.setContent("<p><br></p>"),e.execCommand("selectAll"),equal(ua.getChildHTML(e.body),"<p><br></p>","content is null"),t.setStart(e.body.firstChild,0).collapse(1).select(),e.execCommand("bold"),ua.manualDeleteFillData(e.body),equal(ua.getChildHTML(e.body),"<p><strong></strong><br></p>","after calling command bold")}),test("ctrl+a",function(){var e=te.obj[0],t=te.obj[1],l=e.body;e.setContent("<p>全选的文本1</p><h1>全选的文本2</h1>"),t.selectNode(l.firstChild).select();l.firstChild;ua.keydown(e.body,{keyCode:65,ctrlKey:!0}),setTimeout(function(){var t=e.selection.getRange();ua.browser.gecko||ua.browser.webkit?ua.checkResult(t,l,l,0,2,!1,"查看全选后的range"):ua.checkResult(t,l.firstChild.firstChild,l.lastChild.firstChild,0,6,!1,"查看全选后的range"),start()},150),stop()}),test("contextmenu 右键全选",function(){var e=te.obj[0];te.obj[1];stop(),e.setContent("asdfg"),ua.contextmenu(e.body);var t=(e.getLang("contextMenu"),document.getElementsByClassName("edui-menu-body")[0]);equal(e.selection.getRange().collapsed,!0,"检查选区--闭合"),ua.click(t.childNodes[0]),setTimeout(function(){equal(e.selection.getRange().collapsed,!1,"检查选区--非闭合"),document.getElementById("edui_fixedlayer").parentNode.removeChild(document.getElementById("edui_fixedlayer")),te.dom.push(e.container),start()},50)});