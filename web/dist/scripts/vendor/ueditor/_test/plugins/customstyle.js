module("plugins.customstyle"),test("block的元素（p）",function(){var e=te.obj[0];e.setContent("<p>hello</p>"),setTimeout(function(){var t=e.selection.getRange();t.selectNode(e.body.firstChild).select(),e.execCommand("customstyle",{style:"border:1px solid #ccc",label:"aaa",tag:"h3"}),ua.manualDeleteFillData(e.body),equal(e.body.firstChild.getAttribute("label"),"aaa","检查标签"),t.selectNode(e.body.firstChild).select(),equal(e.queryCommandValue("customstyle"),"aaa","queryCommandValue"),equal(e.queryCommandState("customstyle"),"0","queryCommandState");var o=$(e.body.firstChild);ok("1px"==e.body.firstChild.style.borderWidth,"检查边框宽"),ok("solid"==o.css("border-top-style")&&"solid"==o.css("border-bottom-style")&&"solid"==o.css("border-left-style")&&"solid"==o.css("border-right-style"),"检查边框风格"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-top-color")&&"#ccc"==o.css("border-bottom-color")&&"#ccc"==o.css("border-left-color")&&"#ccc"==o.css("border-right-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-top-color")&&"rgb(204, 204, 204)"==o.css("border-bottom-color")&&"rgb(204, 204, 204)"==o.css("border-left-color")&&"rgb(204, 204, 204)"==o.css("border-right-color"),"检查边框颜色"),t.setStart(e.body.firstChild,0).collapse(!0).select(),e.execCommand("customstyle",{style:"border:1px solid #ccc",label:"aaa",tag:"h3"}),ua.manualDeleteFillData(e.body),t.selectNode(e.body.firstChild).select(),equal(e.queryCommandValue("customstyle"),""),equal(e.queryCommandState("customstyle"),"0","queryCommandState");var s=e.body.firstChild;equal(s.tagName.toLowerCase(),"p","闭合去掉h3标签"),equal(s.innerHTML,"hello","检查innerHTML"),e.setContent('<h3 style="border: 1px solid rgb(204, 204, 204); " label="aaa">hello</h3><p><br></p>'),t.selectNode(e.body.firstChild).select(),e.execCommand("customstyle",{style:"border:1px solid #ccc",label:"aaa",tag:"h3"});var s=e.body.firstChild;equal(s.tagName.toLowerCase(),"p","非闭合去掉h3标签"),start()},50),stop()}),test("block的元素（div）",function(){var e=te.obj[0];e.setContent("<div>hello</div>"),setTimeout(function(){var t=e.selection.getRange();t.selectNode(e.body.firstChild).select(),e.execCommand("customstyle",{style:"border:1px solid #ccc",label:"aaa",tag:"h3"}),ua.manualDeleteFillData(e.body),equal(e.body.firstChild.getAttribute("label"),"aaa","检查标签");var o=$(e.body.firstChild);ok("1px"==e.body.firstChild.style.borderWidth,"检查边框宽"),ok("solid"==o.css("border-top-style")&&"solid"==o.css("border-bottom-style")&&"solid"==o.css("border-left-style")&&"solid"==o.css("border-right-style"),"检查边框风格"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-top-color")&&"#ccc"==o.css("border-bottom-color")&&"#ccc"==o.css("border-left-color")&&"#ccc"==o.css("border-right-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-top-color")&&"rgb(204, 204, 204)"==o.css("border-bottom-color")&&"rgb(204, 204, 204)"==o.css("border-left-color")&&"rgb(204, 204, 204)"==o.css("border-right-color"),"检查边框颜色"),t.setStart(e.body.firstChild,0).collapse(!0).select(),e.execCommand("customstyle",{style:"border:1px solid #ccc",label:"aaa",tag:"h3"}),ua.manualDeleteFillData(e.body);var s=e.body.firstChild;equal(s.tagName.toLowerCase(),"p","h3被去掉了"),equal(s.innerHTML,"hello","检查innerHTML"),start()},50),stop()}),test("inline的元素(a)",function(){var e=te.obj[0];e.setContent('<a href="http://www.baidu.com">hello</a>');var t=e.selection.getRange();t.selectNode(e.body.firstChild).select(),e.execCommand("customstyle",{style:"border:1px solid #ccc",label:"aaa",tag:"h3"}),t.selectNode(e.body.firstChild).select(),equal(e.queryCommandValue("customstyle"),"aaa","queryCommandValue"),equal(e.queryCommandState("customstyle"),"0","queryCommandState"),ua.manualDeleteFillData(e.body),equal(e.body.firstChild.getAttribute("label"),"aaa","检查标签");var o=$(e.body.firstChild);ok("1px"==e.body.firstChild.style.borderWidth,"检查边框宽"),ok("solid"==o.css("border-top-style")&&"solid"==o.css("border-bottom-style")&&"solid"==o.css("border-left-style")&&"solid"==o.css("border-right-style"),"检查边框风格"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-top-color")&&"#ccc"==o.css("border-bottom-color")&&"#ccc"==o.css("border-left-color")&&"#ccc"==o.css("border-right-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-top-color")&&"rgb(204, 204, 204)"==o.css("border-bottom-color")&&"rgb(204, 204, 204)"==o.css("border-left-color")&&"rgb(204, 204, 204)"==o.css("border-right-color"),"检查边框颜色"),t.setStart(e.body.firstChild,0).collapse(!0).select(),e.execCommand("customstyle",{style:"border:1px solid #ccc",label:"aaa",tag:"h3"}),ua.manualDeleteFillData(e.body);var s=e.body.getElementsByTagName("a")[0];equal(s.tagName.toLowerCase(),"a","h3被去掉了"),equal(s.innerHTML,"hello","检查innerHTML"),t.selectNode(e.body.firstChild).select(),equal(e.queryCommandValue("customstyle"),"","queryCommandValue"),equal(e.queryCommandState("customstyle"),"0","queryCommandState")}),test("block的元素-样式的反复转换：块-块；包含的选取方式：整段、部分、多段",function(){var e=te.obj[0];e.setContent("<p>hello</p><p>world</p>");var t=e.selection.getRange();t.setStart(e.body.firstChild.firstChild,0).setEnd(e.body.firstChild.firstChild,2).select(),e.execCommand("customstyle",{style:"border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;",label:"居中标题",tag:"h1"}),ua.manualDeleteFillData(e.body),equal(e.body.getElementsByTagName("h1")[0].getAttribute("label"),"居中标题","非闭合选区，部分选择，设置块元素的样式：居中标题");var o=$(e.body.getElementsByTagName("h1")[0]);ok("2px"==e.body.getElementsByTagName("h1")[0].style.borderBottomWidth,"检查边框宽"),ok("solid"==o.css("border-bottom-style"),"检查边框风格"),ok("0px"==o.css("padding-bottom")&&"0px"==o.css("padding-top")&&"0px"==o.css("padding-left")&&"4px"==o.css("padding-right"),"检查padding"),ok("20px"==o.css("margin-bottom")&&"0px"==o.css("margin-top")&&"0px"==o.css("margin-left")&&"0px"==o.css("margin-right"),"检查margin"),ok("center"==o.css("text-align"),"检查对齐方式"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-bottom-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-bottom-color"),"检查边框颜色"),t.setStart(e.body.getElementsByTagName("h1")[0],0).collapse(!0).select(),e.execCommand("customstyle",{tag:"h1",label:"居左标题",style:"border-bottom:#ccc 2px solid;padding:0 4px 0 0;margin:0 0 10px 0;"}),ua.manualDeleteFillData(e.body),equal(e.body.getElementsByTagName("h1")[0].getAttribute("label"),"居左标题","闭合选区设置块元素的样式：居左标题");var o=$(e.body.getElementsByTagName("h1")[0]);ok("2px"==e.body.getElementsByTagName("h1")[0].style.borderBottomWidth,"检查边框宽"),ok("solid"==o.css("border-bottom-style"),"检查边框风格"),ok("0px"==o.css("padding-bottom")&&"0px"==o.css("padding-top")&&"0px"==o.css("padding-left")&&"4px"==o.css("padding-right"),"检查padding"),ok("10px"==o.css("margin-bottom")&&"0px"==o.css("margin-top")&&"0px"==o.css("margin-left")&&"0px"==o.css("margin-right"),"检查margin"),ok("center"!=o.css("text-align"),"检查对齐方式"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-bottom-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-bottom-color"),"检查边框颜色"),t.setStart(e.body.firstChild,0).setEnd(e.body.lastChild,1).select(),e.execCommand("customstyle",{tag:"h3",label:"标题3",style:"border-bottom:#ccc 1px solid;padding:0 1px 0 0;margin:0 0 10px 0;"}),ua.manualDeleteFillData(e.body),ok(0==e.body.getElementsByTagName("h1").length&&2==e.body.getElementsByTagName("h3").length,"选中两行（中间夹一行空行），设置成标题3"),equal(e.body.getElementsByTagName("h3")[0].getAttribute("label"),"标题3","标题3");var o=$(e.body.getElementsByTagName("h3")[0]);ok("1px"==e.body.getElementsByTagName("h3")[0].style.borderBottomWidth,"检查边框宽"),ok("solid"==o.css("border-bottom-style"),"检查边框风格"),ok("0px"==o.css("padding-bottom")&&"0px"==o.css("padding-top")&&"0px"==o.css("padding-left")&&"1px"==o.css("padding-right"),"检查padding"),ok("10px"==o.css("margin-bottom")&&"0px"==o.css("margin-top")&&"0px"==o.css("margin-left")&&"0px"==o.css("margin-right"),"检查margin"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-bottom-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-bottom-color"),"检查边框颜色"),equal(e.body.getElementsByTagName("h3")[1].getAttribute("label"),"标题3","标题3");var o=$(e.body.getElementsByTagName("h3")[1]);ok("1px"==e.body.getElementsByTagName("h3")[1].style.borderBottomWidth,"检查边框宽"),ok("solid"==o.css("border-bottom-style"),"检查边框风格"),ok("0px"==o.css("padding-bottom")&&"0px"==o.css("padding-top")&&"0px"==o.css("padding-left")&&"1px"==o.css("padding-right"),"检查padding"),ok("10px"==o.css("margin-bottom")&&"0px"==o.css("margin-top")&&"0px"==o.css("margin-left")&&"0px"==o.css("margin-right"),"检查margin"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-bottom-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-bottom-color"),"检查边框颜色")}),test("block的元素-样式的反复转换：块-块；包含的选取方式： 多段部分",function(){var e=te.obj[0],t=e.selection.getRange();e.setContent("<p>hello</p><p>world</p><p>！！！</p>"),t.setStart(e.body.firstChild.firstChild,2).setEnd(e.body.lastChild.firstChild,1).select(),e.execCommand("customstyle",{tag:"h1",label:"标题1",style:"border-bottom:#ccc 1px solid;padding:0 3px 0 0;margin:10px 0 10px 0;"}),ua.manualDeleteFillData(e.body),ok(3==e.body.getElementsByTagName("h1").length,"选中多行的部分，设置成标题1"),equal(e.body.getElementsByTagName("h1")[0].getAttribute("label"),"标题1","标题1");var o=$(e.body.getElementsByTagName("h1")[0]);ok("1px"==e.body.getElementsByTagName("h1")[0].style.borderBottomWidth,"检查边框宽"),ok("solid"==o.css("border-bottom-style"),"检查边框风格"),ok("0px"==o.css("padding-bottom")&&"0px"==o.css("padding-top")&&"0px"==o.css("padding-left")&&"3px"==o.css("padding-right"),"检查padding"),ok("10px"==o.css("margin-bottom")&&"10px"==o.css("margin-top")&&"0px"==o.css("margin-left")&&"0px"==o.css("margin-right"),"检查margin"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-bottom-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-bottom-color"),"检查边框颜色"),equal(e.body.getElementsByTagName("h1")[1].getAttribute("label"),"标题1","标题1");var o=$(e.body.getElementsByTagName("h1")[1]);ok("1px"==e.body.getElementsByTagName("h1")[1].style.borderBottomWidth,"检查边框宽"),ok("solid"==o.css("border-bottom-style"),"检查边框风格"),ok("0px"==o.css("padding-bottom")&&"0px"==o.css("padding-top")&&"0px"==o.css("padding-left")&&"3px"==o.css("padding-right"),"检查padding"),ok("10px"==o.css("margin-bottom")&&"10px"==o.css("margin-top")&&"0px"==o.css("margin-left")&&"0px"==o.css("margin-right"),"检查margin"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-bottom-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-bottom-color"),"检查边框颜色"),equal(e.body.getElementsByTagName("h1")[2].getAttribute("label"),"标题1","标题1");var o=$(e.body.getElementsByTagName("h1")[2]);ok("1px"==e.body.getElementsByTagName("h1")[2].style.borderBottomWidth,"检查边框宽"),ok("solid"==o.css("border-bottom-style"),"检查边框风格"),ok("0px"==o.css("padding-bottom")&&"0px"==o.css("padding-top")&&"0px"==o.css("padding-left")&&"3px"==o.css("padding-right"),"检查padding"),ok("10px"==o.css("margin-bottom")&&"10px"==o.css("margin-top")&&"0px"==o.css("margin-left")&&"0px"==o.css("margin-right"),"检查margin"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-bottom-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-bottom-color"),"检查边框颜色")}),test("block的元素-样式的反复转换：块-内联；包含的选取方式：闭合、多段部分",function(){var e=te.obj[0];e.setContent("<p>hello</p><p>world</p>");var t=e.selection.getRange();t.setStart(e.body.firstChild,0).setEnd(e.body.lastChild,1).select(),e.execCommand("customstyle",{style:"border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;",label:"居中标题",tag:"h1"}),t.setStart(e.body.getElementsByTagName("h1")[0],0).collapse(!0).select(),e.execCommand("customstyle",{tag:"span",label:"强调",style:"font-style:italic;font-weight:bold;color:#000"}),ua.manualDeleteFillData(e.body),equal(e.body.getElementsByTagName("span")[0].getAttribute("label"),"强调","闭合选区设置样式：强调");var o=$(e.body.getElementsByTagName("span")[0]);ua.browser.webkit?ok("italic"==o.css("font-style")&&"bold"==o.css("font-weight"),"检查字体"):ok("italic"==o.css("font-style")&&"700"==o.css("font-weight"),"检查字体"),ua.browser.ie&&ua.browser.ie<9?equal(o.css("color"),"#000","检查颜色"):equal(o.css("color"),"rgb(0, 0, 0)","检查颜色"),t.setStart(e.body.getElementsByTagName("h1")[0].lastChild,0).setEnd(e.body.getElementsByTagName("h1")[1].firstChild,2).select(),e.execCommand("customstyle",{tag:"span",label:"明显强调",style:"font-style:italic;font-weight:bold;color:rgb(51, 153, 204)"}),ua.manualDeleteFillData(e.body),equal(e.body.getElementsByTagName("h1")[1].firstChild.getAttribute("label"),"明显强调","闭合选区设置样式：明显强调");var o=$(e.body.getElementsByTagName("h1")[1].firstChild);ua.browser.webkit?ok("italic"==o.css("font-style")&&"bold"==o.css("font-weight"),"检查字体"):ok("italic"==o.css("font-style")&&"700"==o.css("font-weight"),"检查字体"),ua.browser.ie&&ua.browser.ie<9?equal(o.css("color"),"rgb(51,153,204)","检查颜色"):equal(o.css("color"),"rgb(51, 153, 204)","检查颜色")}),test("block的元素-样式的反复转换：内联-块；包含的选取方式：闭合",function(){var e=te.obj[0];e.setContent("<p>hello</p>");var t=e.selection.getRange();t.setStart(e.body.firstChild,0).setEnd(e.body.firstChild,1).select(),e.execCommand("customstyle",{tag:"span",label:"强调",style:"font-style:italic;font-weight:bold;color:#000"}),t.setStart(e.body.firstChild,0).collapse(!0).select(),e.execCommand("customstyle",{style:"border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;",label:"居中标题",tag:"h1"}),ua.manualDeleteFillData(e.body),equal(e.body.getElementsByTagName("h1")[0].getAttribute("label"),"居中标题","居中标题");var o=$(e.body.getElementsByTagName("h1")[0]);if(ok("2px"==e.body.getElementsByTagName("h1")[0].style.borderBottomWidth,"检查边框宽"),ok("solid"==o.css("border-bottom-style"),"检查边框风格"),ok("0px"==o.css("padding-bottom")&&"0px"==o.css("padding-top")&&"0px"==o.css("padding-left")&&"4px"==o.css("padding-right"),"检查padding"),ok("20px"==o.css("margin-bottom")&&"0px"==o.css("margin-top")&&"0px"==o.css("margin-left")&&"0px"==o.css("margin-right"),"检查margin"),ua.browser.ie&&ua.browser.ie<9?ok("#ccc"==o.css("border-bottom-color"),"检查边框颜色"):ok("rgb(204, 204, 204)"==o.css("border-bottom-color"),"检查边框颜色"),e.body.getElementsByTagName("h1")[0].firstChild.data){equal(e.body.getElementsByTagName("h1")[0].firstChild.tagName.toLowerCase(),"span","h1内包含样式：强调"),equal(e.body.getElementsByTagName("h1")[0].firstChild.getAttribute("label"),"强调","闭合选区设置样式：强调");var o=$(e.body.getElementsByTagName("span")[0]);ua.browser.webkit?ok("italic"==o.css("font-style")&&"bold"==o.css("font-weight"),"检查字体"):ok("italic"==o.css("font-style")&&"700"==o.css("font-weight"),"检查字体"),ua.browser.ie&&ua.browser.ie<9?equal(o.css("color"),"#000","检查颜色"):equal(o.css("color"),"rgb(0, 0, 0)","检查颜色")}}),test("block的元素-样式的反复转换：内联-内联；包含的选取方式：闭合，非闭合，多段",function(){var e=document.body.appendChild(document.createElement("div")),t=new baidu.editor.Editor({initialContent:"<p>欢迎使用ueditor</p>",elementPathEnabled:!0,autoFloatEnabled:!1});stop(),setTimeout(function(){t.render(e),setTimeout(function(){t.setContent("<p>hello</p><p>world</p>");var e=t.selection.getRange();e.setStart(t.body.firstChild,0).setEnd(t.body.firstChild,1).select(),t.execCommand("customstyle",{tag:"span",label:"强调",style:"font-style:italic;font-weight:bold;color:#000"}),equal(t.body.getElementsByTagName("p")[0].firstChild.tagName.toLowerCase(),"span","闭合选区设置样式：强调"),equal(t.body.getElementsByTagName("p")[0].firstChild.getAttribute("label"),"强调","闭合选区设置样式：强调");var o=$(t.body.getElementsByTagName("span")[0]);ua.browser.webkit?ok("italic"==o.css("font-style")&&"bold"==o.css("font-weight"),"检查字体"):ok("italic"==o.css("font-style")&&"700"==o.css("font-weight"),"检查字体"),ua.browser.ie&&ua.browser.ie<9?equal(o.css("color"),"#000","检查颜色"):equal(o.css("color"),"rgb(0, 0, 0)","检查颜色"),e.setStart(t.body.firstChild.firstChild.firstChild,0).setEnd(t.body.lastChild.firstChild,3).select(),t.execCommand("customstyle",{tag:"span",label:"明显强调",style:"font-style:italic;font-weight:bold;color:rgb(51, 153, 204)"}),e.selectNode(t.body.firstChild).select();var s=t.queryCommandValue("elementpath");ua.checkElementPath(s,["body","p","span","span"],"选中第一行");var l=t.body.getElementsByTagName("p")[0].firstChild.firstChild,o=$(l);equal(l.tagName.toLowerCase(),"span","非闭合选区设置样式：明显强调"),equal(l.getAttribute("label"),"明显强调","非闭合选区设置样式：明显强调"),ua.browser.webkit?ok("italic"==o.css("font-style")&&"bold"==o.css("font-weight"),"检查字体"):ok("italic"==o.css("font-style")&&"700"==o.css("font-weight"),"检查字体"),ua.browser.ie&&ua.browser.ie<9?equal(o.css("color"),"rgb(51,153,204)","检查颜色"):equal(o.css("color"),"rgb(51, 153, 204)","检查颜色");var a=t.body.getElementsByTagName("p")[1].firstChild,o=$(a);equal(a.tagName.toLowerCase(),"span","非闭合选区设置样式：明显强调"),equal(a.getAttribute("label"),"明显强调","非闭合选区设置样式：明显强调"),ua.browser.webkit?ok("italic"==o.css("font-style")&&"bold"==o.css("font-weight"),"检查字体"):ok("italic"==o.css("font-style")&&"700"==o.css("font-weight"),"检查字体"),ua.browser.ie&&ua.browser.ie<9?equal(o.css("color"),"rgb(51,153,204)","检查颜色"):equal(o.css("color"),"rgb(51, 153, 204)","检查颜色"),e.setStart(l.firstChild,0).collapse(!0).select(),t.execCommand("customstyle",{tag:"span",label:"强调",style:"font-style:italic;font-weight:bold;color:#000"}),equal(l.firstChild.tagName.toLowerCase(),"span","非闭合选区设置样式：强调"),equal(l.firstChild.getAttribute("label"),"强调","闭合选区设置样式：强调");var o=$(l.firstChild);ua.browser.webkit?ok("italic"==o.css("font-style")&&"bold"==o.css("font-weight"),"检查字体"):ok("italic"==o.css("font-style")&&"700"==o.css("font-weight"),"检查字体"),ua.browser.ie&&ua.browser.ie<9?equal(o.css("color"),"#000","检查颜色"):equal(o.css("color"),"rgb(0, 0, 0)","检查颜色"),start()},50)},50)}),test("h1空节点",function(){var e=te.obj[0],t=te.obj[1];e.setContent("<p></p>"),t.setStart(e.body.firstChild,0).collapse(1).select(),e.execCommand("customstyle",{tag:"h1",label:"居中标题",style:"border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"}),ua.manualDeleteFillData(e.body),equal(e.body.firstChild.tagName,"H1","h1标签"),equal($(e.body.firstChild).css("textAlign"),"center","居中"),t.setStart(e.body.firstChild.firstChild,0).collapse(1).select(),ua.keyup(e.body,{keyCode:32});var o=ua.browser.ie?"&nbsp;":"<br>";e.execCommand("customstyle",{tag:"h1",label:"居中标题",style:"border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"}),t.setStart(e.body.firstChild,0).collapse(1).select(),ua.keyup(e.body,{keyCode:13}),ua.manualDeleteFillData(e.body),equal(ua.getChildHTML(e.body),"<p>"+o+"</p>","h1空节点点击回车键")}),test("trace 1840:单击后插入“居中标题”",function(){var e=te.obj[0],t=te.obj[1],o=e.body;e.setContent("<p></p>"),t.setStart(o.firstChild,0).select(),e.execCommand("customstyle",{tag:"h1",label:"居中标题",style:"border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"}),equal(o.firstChild.tagName.toLowerCase(),"h1","检查tagname");for(var s=o.firstChild.childNodes,l=0,a=0;a<s.length;a++)1==s[a].nodeType&&"br"==s[a].tagName.toLowerCase()&&l++;equal(l,ua.browser.ie?0:1,"br的个数")});