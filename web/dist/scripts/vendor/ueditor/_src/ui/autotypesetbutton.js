!function(){function e(e){for(var i,n={},o=e.getDom(),a=e.editor.uid,u=null,d=null,l=domUtils.getElementsByTagName(o,"input"),r=l.length-1;i=l[r--];)if(u=i.getAttribute("type"),"checkbox"==u)if(d=i.getAttribute("name"),n[d]&&delete n[d],i.checked){var s=document.getElementById(d+"Value"+a);if(s){if(/input/gi.test(s.tagName))n[d]=s.value;else for(var c,m=s.getElementsByTagName("input"),g=m.length-1;c=m[g--];)if(c.checked){n[d]=c.value;break}}else n[d]=!0}else n[d]=!1;else n[i.getAttribute("value")]=i.checked;for(var h,p=domUtils.getElementsByTagName(o,"select"),r=0;h=p[r++];){var f=h.getAttribute("name");n[f]=n[f]?h.value:""}t.extend(e.editor.options.autotypeset,n),e.editor.setPreferences("autotypeset",n)}var t=baidu.editor.utils,i=baidu.editor.ui.Popup,n=baidu.editor.ui.AutoTypeSetPicker,o=baidu.editor.ui.SplitButton,a=baidu.editor.ui.AutoTypeSetButton=function(e){this.initOptions(e),this.initAutoTypeSetButton()};a.prototype={initAutoTypeSetButton:function(){var t=this;this.popup=new i({content:new n({editor:t.editor}),editor:t.editor,hide:function(){!this._hidden&&this.getDom()&&(e(this),this.getDom().style.display="none",this._hidden=!0,this.fireEvent("hide"))}});var o=0;this.popup.addListener("postRenderAfter",function(){var i=this;if(!o){var n=this.getDom(),a=n.getElementsByTagName("button")[0];a.onclick=function(){e(i),t.editor.execCommand("autotypeset"),i.hide()},domUtils.on(n,"click",function(n){var o=n.target||n.srcElement,a=t.editor.uid;if(o&&"INPUT"==o.tagName){if("imageBlockLine"==o.name||"textAlign"==o.name||"symbolConver"==o.name)for(var u=o.checked,d=document.getElementById(o.name+"Value"+a),l=d.getElementsByTagName("input"),r={imageBlockLine:"none",textAlign:"left",symbolConver:"tobdc"},s=0;s<l.length;s++)u?l[s].value==r[o.name]&&(l[s].checked="checked"):l[s].checked=!1;if(o.name=="imageBlockLineValue"+a||o.name=="textAlignValue"+a||"bdc"==o.name){var c=o.parentNode.previousSibling.getElementsByTagName("input");c&&(c[0].checked=!0)}e(i)}}),o=1}}),this.initSplitButton()}},t.inherits(a,o)}();