UE.plugins.basestyle=function(){var e={bold:["strong","b"],italic:["em","i"],subscript:["sub"],superscript:["sup"]},t=function(e,t){return domUtils.filterNodeList(e.selection.getStartElementPath(),t)},s=this;s.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+85"}),s.addInputRule(function(e){utils.each(e.getNodesByTagName("b i"),function(e){switch(e.tagName){case"b":e.tagName="strong";break;case"i":e.tagName="em"}})});for(var n in e)!function(e,n){s.commands[e]={execCommand:function(e){var r=s.selection.getRange(),i=t(this,n);if(r.collapsed){if(i){var a=s.document.createTextNode("");r.insertNode(a).removeInlineStyle(n),r.setStartBefore(a),domUtils.remove(a)}else{var o=r.document.createElement(n[0]);("superscript"==e||"subscript"==e)&&(a=s.document.createTextNode(""),r.insertNode(a).removeInlineStyle(["sub","sup"]).setStartBefore(a).collapse(!0)),r.insertNode(o).setStart(o,0)}r.collapse(!0)}else("superscript"==e||"subscript"==e)&&(i&&i.tagName.toLowerCase()==e||r.removeInlineStyle(["sub","sup"])),i?r.removeInlineStyle(n):r.applyInlineStyle(n[0]);r.select()},queryCommandState:function(){return t(this,n)?1:0}}}(n,e[n])};