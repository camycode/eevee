UE.plugin.register("insertfile",function(){function i(i){var n=i.substr(i.lastIndexOf(".")+1).toLowerCase(),g={rar:"icon_rar.gif",zip:"icon_rar.gif",tar:"icon_rar.gif",gz:"icon_rar.gif",bz2:"icon_rar.gif",doc:"icon_doc.gif",docx:"icon_doc.gif",pdf:"icon_pdf.gif",mp3:"icon_mp3.gif",xls:"icon_xls.gif",chm:"icon_chm.gif",ppt:"icon_ppt.gif",pptx:"icon_ppt.gif",avi:"icon_mv.gif",rmvb:"icon_mv.gif",wmv:"icon_mv.gif",flv:"icon_mv.gif",swf:"icon_mv.gif",rm:"icon_mv.gif",exe:"icon_exe.gif",psd:"icon_psd.gif",txt:"icon_txt.gif",jpg:"icon_jpg.gif",png:"icon_jpg.gif",jpeg:"icon_jpg.gif",gif:"icon_jpg.gif",ico:"icon_jpg.gif",bmp:"icon_jpg.gif"};return g[n]?g[n]:g.txt}var n=this;return{commands:{insertfile:{execCommand:function(g,c){c=utils.isArray(c)?c:[c];var t,o,r,f,e="",p=n.getOpt("UEDITOR_HOME_URL"),_=p+("/"==p.substr(p.length-1)?"":"/")+"dialogs/attachment/fileTypeImages/";for(t=0;t<c.length;t++)o=c[t],r=_+i(o.url),f=o.title||o.url.substr(o.url.lastIndexOf("/")+1),e+='<p style="line-height: 16px;"><img style="vertical-align: middle; margin-right: 2px;" src="'+r+'" _src="'+r+'" /><a style="font-size:12px; color:#0066cc;" href="'+o.url+'" title="'+f+'">'+f+"</a></p>";n.execCommand("insertHtml",e)}}}}});