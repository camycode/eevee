UE.commands.touppercase=UE.commands.tolowercase={execCommand:function(e){var o=this,t=o.selection.getRange();if(t.collapsed)return t;for(var s=t.createBookmark(),a=s.end,m=function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)},r=domUtils.getNextDomNode(s.start,!1,m);r&&domUtils.getPosition(r,a)&domUtils.POSITION_PRECEDING&&(3==r.nodeType&&(r.nodeValue=r.nodeValue["touppercase"==e?"toUpperCase":"toLowerCase"]()),r=domUtils.getNextDomNode(r,!0,m),r!==a););t.moveToBookmark(s).select()}};