UE.plugin.register("wordimage",function(){var e=this,t=[];return{commands:{wordimage:{execCommand:function(){for(var t,r=domUtils.getElementsByTagName(e.body,"img"),i=[],a=0;t=r[a++];){var n=t.getAttribute("word_img");n&&i.push(n)}return i},queryCommandState:function(){t=domUtils.getElementsByTagName(e.body,"img");for(var r,i=0;r=t[i++];)if(r.getAttribute("word_img"))return 1;return-1},notNeedUndo:!0}},inputRule:function(t){utils.each(t.getNodesByTagName("img"),function(t){var r=t.attrs,i=parseInt(r.width)<128||parseInt(r.height)<43,a=e.options,n=a.UEDITOR_HOME_URL+"themes/default/images/spacer.gif";r.src&&/^(?:(file:\/+))/.test(r.src)&&t.setAttr({width:r.width,height:r.height,alt:r.alt,word_img:r.src,src:n,style:"background:url("+(i?a.themePath+a.theme+"/images/word.gif":a.langPath+a.lang+"/images/localimage.png")+") no-repeat center center;border:1px solid #ddd"})})}}});