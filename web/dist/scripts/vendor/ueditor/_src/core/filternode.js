var filterNode=UE.filterNode=function(){function e(r,t){switch(r.type){case"text":break;case"element":var a;if(a=t[r.tagName])if("-"===a)r.parentNode.removeChild(r);else if(utils.isFunction(a)){var i=r.parentNode,n=r.getIndex();if(a(r),r.parentNode){if(r.children)for(var o,d=0;o=r.children[d];)e(o,t),o.parentNode&&d++}else for(var o,d=n;o=i.children[d];)e(o,t),o.parentNode&&d++}else{var l=a.$;if(l&&r.attrs){var f,c={};for(var s in l){if(f=r.getAttr(s),"style"==s&&utils.isArray(l[s])){var v=[];utils.each(l[s],function(e){var t;(t=r.getStyle(e))&&v.push(e+":"+t)}),f=v.join(";")}f&&(c[s]=f)}r.attrs=c}if(r.children)for(var o,d=0;o=r.children[d];)e(o,t),o.parentNode&&d++}else if(dtd.$cdata[r.tagName])r.parentNode.removeChild(r);else{var i=r.parentNode,n=r.getIndex();r.parentNode.removeChild(r,!0);for(var o,d=n;o=i.children[d];)e(o,t),o.parentNode&&d++}break;case"comment":r.parentNode.removeChild(r)}}return function(r,t){if(utils.isEmptyObject(t))return r;var a;(a=t["-"])&&utils.each(a.split(" "),function(e){t[e]="-"});for(var i,n=0;i=r.children[n];)e(i,t),i.parentNode&&n++;return r}}();