var LocalStorage=UE.LocalStorage=function(){function e(){var e=document.createElement("div");return e.style.display="none",e.addBehavior?(e.addBehavior("#default#userdata"),{getItem:function(t){var a=null;try{document.body.appendChild(e),e.load(o),a=e.getAttribute(t),document.body.removeChild(e)}catch(r){}return a},setItem:function(t,a){document.body.appendChild(e),e.setAttribute(t,a),e.save(o),document.body.removeChild(e)},removeItem:function(t){document.body.appendChild(e),e.removeAttribute(t),e.save(o),document.body.removeChild(e)}}):null}var t=window.localStorage||e()||null,o="localStorage";return{saveLocalData:function(e,o){return t&&o?(t.setItem(e,o),!0):!1},getLocalData:function(e){return t?t.getItem(e):null},removeItem:function(e){t&&t.removeItem(e)}}}();!function(){var e="ueditor_preference";UE.Editor.prototype.setPreferences=function(t,o){var a={};utils.isString(t)?a[t]=o:a=t;var r=LocalStorage.getLocalData(e);r&&(r=utils.str2json(r))?utils.extend(r,a):r=a,r&&LocalStorage.saveLocalData(e,utils.json2str(r))},UE.Editor.prototype.getPreferences=function(t){var o=LocalStorage.getLocalData(e);return o&&(o=utils.str2json(o))?t?o[t]:o:null},UE.Editor.prototype.removePreferences=function(t){var o=LocalStorage.getLocalData(e);o&&(o=utils.str2json(o))&&(o[t]=void 0,delete o[t]),o&&LocalStorage.saveLocalData(e,utils.json2str(o))}}();