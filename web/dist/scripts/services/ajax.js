define(["app","json!../config.json","storage"],function(n,o){return n.factory("ajax",["$http","storage",function(n,e){var t="http://localhost:7800",r=o.app_id,i=function(){return e.has("APP_LOGIN_USER")?JSON.parse(e.get("APP_LOGIN_USER")).user_token:null},c={config:{timeout:1e4,headers:{"Content-Type":"application/json","X-App-ID":r,"X-User-Token":null}},get:function(o,e){return e=e||{},c.config.method="get",c.config.url=t+o,c.config.params=e,c.config.headers["X-User-Token"]=i(),n(c.config)},post:function(o,e){return e=e||{},c.config.method="post",c.config.url=t+o,c.config.data=e,c.config.headers["X-User-Token"]=i(),n(c.config)},put:function(o,e){return e=e||{},c.config.method="put",c.config.url=t+o,c.config.data=e,c.config.headers["X-User-Token"]=i(),n(c.config)}};return c}])});