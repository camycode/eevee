module("ui.editor"),test("拖拽",function(){var e=document.createElement("script");e.id="sc",e.type="text/plain",document.body.appendChild(e);var t=new UE.ui.Editor({autoHeightEnabled:!1,autoFloatEnabled:!1,scaleEnabled:!0});t.render("sc"),stop(),t.ready(function(){var t=this,d=100;setTimeout(function(){var i=$(this.document.getElementById(t.ui.id)).css("width"),o=$(this.document.getElementById(t.ui.id)).css("height"),n=this.document.getElementById(t.ui.id+"_scale"),r=$(n).offset().left+parseInt($(n).css("width")),a=$(n).offset().top+parseInt($(n).css("height"));ua.dragto(n,{startX:r,startY:a,endX:r+d,endY:a+d}),setTimeout(function(){var n=parseInt($(this.document.getElementById(t.ui.id)).css("border-left-width"))+parseInt($(this.document.getElementById(t.ui.id)).css("border-right-width")),r=parseInt($(this.document.getElementById(t.ui.id)).css("border-top-width"))+parseInt($(this.document.getElementById(t.ui.id)).css("border-bottom-width")),a="default"==t.options.theme?1:0,s=parseInt(o)+d-2-n+a,l=parseInt($(this.document.getElementById(t.ui.id)).css("height"));equal(parseInt($(this.document.getElementById(t.ui.id)).css("width")),parseInt(i)+d-2-r+a,"宽"),ok(l==s||l==s-1,"高"+l),setTimeout(function(){UE.delEditor("sc"),e=document.getElementById("sc"),e&&e.parentNode.removeChild(e),start()},100)},1800)},100)})}),test("编辑器皮肤",function(){if(ua.browser.ie<8&&ua.browser.ie>0)return 0;var e=new baidu.editor.ui.Editor({theme:"default"}),t=document.createElement("script");t.id="sc1",document.body.appendChild(t),e.render(t),stop(),e.ready(function(){var e=document.getElementById("sc1").firstChild.id;equal(document.getElementById("sc1").firstChild.className,"edui-editor  edui-default","第一个editor的classname"),equal(document.getElementById(e+"_toolbarbox").className,"edui-editor-toolbarbox edui-default","第一个editor toolbar的classname"),equal(document.getElementById(e+"_iframeholder").className,"edui-editor-iframeholder edui-default","第一个editor iframeholder的classname"),equal(document.getElementById(e+"_bottombar").className,"edui-editor-bottomContainer edui-default","第一个editor bottombar的classname"),equal(document.getElementById(e+"_scalelayer").className,"edui-default","第一个editor scalelayer的classname"),t=document.getElementById("sc1"),t.parentNode.removeChild(t);var d=new baidu.editor.ui.Editor({theme:"modern"}),i=document.createElement("script");i.id="sc2",document.body.appendChild(i),d.render("sc2"),d.ready(function(){e=document.getElementById("sc2").firstChild.id,equal(document.getElementById("sc2").firstChild.className,"edui-editor  edui-modern","第二个editor的classname"),equal(document.getElementById(e+"_toolbarbox").className,"edui-editor-toolbarbox edui-modern","第二个editor toolbar的classname"),equal(document.getElementById(e+"_iframeholder").className,"edui-editor-iframeholder edui-modern","第二个editor iframeholder的classname"),equal(document.getElementById(e+"_bottombar").className,"edui-editor-bottomContainer edui-modern","第二个editor bottombar的classname"),equal(document.getElementById(e+"_scalelayer").className,"edui-modern","第二个editor scalelayer的classname"),i=document.getElementById("sc2"),i.parentNode.removeChild(i),start()})})}),test("判断render有内容时，显示render内容(script)",function(){var e=new baidu.editor.ui.Editor,t=document.createElement("script");t.id="sc3",t.type="text/plain",t.text="renderinnerhtml",document.body.appendChild(t),e.render("sc3"),stop(),e.ready(function(){equal(e.body.firstChild.innerHTML.toLowerCase(),"renderinnerhtml","标签有内容,显示标签内容"),t=document.getElementById("sc3"),t.parentNode.removeChild(t),start()})}),test("render没有内容时，显示initialContent",function(){var e=new baidu.editor.ui.Editor({initialContent:"<br>"}),t=document.createElement("script");t.id="sc4",document.body.appendChild(t),e.render(t),stop(),e.ready(function(){equal(e.body.firstChild.innerHTML.toLowerCase(),e.options.initialContent.toLowerCase(),"标签没有内容，显示initialContent"),t=document.getElementById("sc4"),t.parentNode.removeChild(t),start()})}),test('判断dialogs对象名包含"Dialog"字符',function(){var e=new baidu.editor.ui.Editor,t=document.createElement("script");t.id="sc5",document.body.appendChild(t),e.render(t),stop(),e.ready(function(){var d=e.ui._dialogs;for(var i in d)ok(-1!=i.indexOf("Dialog"),i);t=document.getElementById("sc5"),t.parentNode.removeChild(t),start()})}),test("getEditor--delEditor",function(){var e=UE.ui.Editor(),t=document.createElement("div");t.id="editor2",document.body.appendChild(t),e.render("editor2"),e.ready(function(){var t=UE.getEditor("editor2");equal(t.uid,e.uid)})});